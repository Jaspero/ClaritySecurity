<section class="primary bg p-x-s p-y-m flex jc-between ai-center">
  <h6>Settings</h6>
  <button (click)="save()" mat-flat-button>Save</button>
</section>

<section class="grid">
  <div class="col-12">
    <mat-card>
      <form [formGroup]="form">

        <div formArrayName="roles">

          <h5>Admin</h5>

          <div *ngFor="let user of userForm.controls; index as index" [formGroupName]="index">
            <mat-form-field  appearance="outline" class="w-full m-r-xs">
              <mat-label>{{user}}</mat-label>
              <input type="email" formControlName="email" matInput>
            </mat-form-field>

            <mat-form-field appearance="outline" class="w-full m-r-xs">
              <mat-label>{{user}}</mat-label>
              <mat-select formControlName="role">
                <mat-option *ngFor="let option of role" [value]="option">{{option}}</mat-option>
              </mat-select>
            </mat-form-field>

            <button mat-raised-button color="warn" (click)="delete(index)">Delete</button>

          </div>

          <button mat-button (click)="add()">
            Add new
          </button>
        </div>

      </form>
    </mat-card>
  </div>
</section>
